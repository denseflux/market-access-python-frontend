{% extends "barriers/edit/base.html" %}

{% block page_title %}{{ block.super }} - Edit summary{% endblock %}

{% block back_link %}
    <a href="{% url 'barriers:barrier_detail' object.id %}" class="govuk-back-link ma-back-link">Back</a>
{% endblock %}

{% block page_content %}

    {% include 'partials/heading.html' with text='About the barrier' %}
    {% form_error_banner form %}

    <form action="" method="POST" class="restrict-width">
        {% csrf_token %}

        <div id="{{ form.summary.name }}" class="govuk-form-group{% if form.summary.errors %} govuk-form-group--error{% endif %}">
            <label class="govuk-label govuk-label--s" for="summary">{{ form.summary.label }}</label>

            {% form_field_error form "summary" %}

            {% if barrier.is_summary_sensitive is not False %}
                <div class="govuk-warning-text govuk-!-margin-bottom-4 govuk-!-margin-top-4">
                    <span class="govuk-warning-text__icon govuk-warning-text__icon--small" aria-hidden="true">!</span>
                    <strong class="govuk-warning-text__text govuk-warning-text__text--small">
                        <span class="govuk-warning-text__assistive">Warning</span>
                        {% if barrier.is_summary_sensitive is True %}
                            This summary contains OFFICIAL-SENSITIVE information.
                        {% else %}
                            This summary has not been given a security classification.
                        {% endif %}
                    </strong>
                </div>
            {% endif %}

            <textarea class="govuk-textarea" name="summary" rows="5">{% if form.summary.value %}{{ form.summary.value }}{% endif %}</textarea>
        </div>

        <div id="{{ form.is_summary_sensitive.name }}" class="govuk-form-group{% if form.is_summary_sensitive.errors %} govuk-form-group--error{% endif %}">

            {% form_field_error form "is_summary_sensitive" %}

            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        {{ form.is_summary_sensitive.label }}
                    </legend>

                    {% include "partials/official_sensitive.html" %}

                    <div class="govuk-radios">
                        {% for value, name in form.fields.is_summary_sensitive.choices %}
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="{{ form.is_summary_sensitive.name }}-{{ value }}" name="{{ form.is_summary_sensitive.name }}" type="radio" value="{{ value }}"{% if form.is_summary_sensitive.value == value %} checked="checked"{% endif %}>
                                <label class="govuk-label govuk-radios__label" for="{{ form.is_summary_sensitive.name }}-{{ value }}">{{ name }}</label>
                            </div>
                        {% endfor %}
                    </div>
                </fieldset>
            </div>
        </div>

        <input type="submit" value="Save and exit to barrier" class="govuk-button">
        <a class="form-cancel" href="{% url 'barriers:barrier_detail' barrier.id %}">Cancel</a>
<div style="max-width:500px;">

            <h2>Smart Suggestions AI</h2>

            <p>
                The AI will offer some tagging suggestions below as the Barrier summary is updated. <br><br>
                Select any relevant information.
            </p>


            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Product, service or investment affected</legend>
            <textarea class="govuk-textarea" name="summary" rows="1"></textarea>
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Problem reported</legend>
            <textarea class="govuk-textarea" name="summary" rows="1"></textarea>
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Affected country</legend>
            <div class="checkbox-filter govuk-!-width-full">
                <div class="checkbox-filter__item">
                    <input class="checkbox-filter__input"
                           id="checkbox"
                           name="checkbox_name"
                           type="checkbox"
                           >

                    <label class="govuk-label checkbox-filter__label" for="checkbox">
                        Bangladesh
                    </label>
                </div>
            </div><br>
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Barrier categories</legend>
            <div class="checkbox-filter govuk-!-width-full">
                <div class="checkbox-filter__item">
                    <input class="checkbox-filter__input"
                           id="checkbox"
                           name="checkbox_name"
                           type="checkbox"
                           >

                    <label class="govuk-label checkbox-filter__label" for="checkbox">
                        Unfair application of intellectual property rights and regulations
                    </label>
                </div>
            </div><br>
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Commodity codes</legend>
                <div class="checkbox-filter govuk-!-width-full">
                    <div class="checkbox-filter__item">
                        <input class="checkbox-filter__input"
                               id="checkbox"
                               name="checkbox_name"
                               type="checkbox"
                               >

                        <label class="govuk-label checkbox-filter__label" for="checkbox">
                            9018 - Instruments and appliances used in medical, surgical, dental or veterinary sciences, including scintigraphic apparatus, other electromedical apparatus and sight-testing instruments
                        </label>
                    </div>
                </div><br>
                <div class="checkbox-filter govuk-!-width-full">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Sectors</legend>
                    <div class="checkbox-filter govuk-!-width-full">
                        <div class="checkbox-filter__item">
                            <input class="checkbox-filter__input"
                                   id="checkbox"
                                   name="checkbox_name"
                                   type="checkbox"
                                   >

                            <label class="govuk-label checkbox-filter__label" for="checkbox">
                                Pharmaceuticals and biotechnology
                            </label>
                        </div>
                    </div>
                </div><br>
                <div class="checkbox-filter govuk-!-width-full">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">Tags</legend>
                    <div class="checkbox-filter govuk-!-width-full">
                        <div class="checkbox-filter__item">
                            <input class="checkbox-filter__input"
                                   id="checkbox"
                                   name="checkbox_name"
                                   type="checkbox"
                                   >

                            <label class="govuk-label checkbox-filter__label" for="checkbox">
                                Intellectual property rights
                            </label>
                        </div>
                        <div class="checkbox-filter__item">
                            <input class="checkbox-filter__input"
                                   id="checkbox"
                                   name="checkbox_name"
                                   type="checkbox"
                                   >

                            <label class="govuk-label checkbox-filter__label" for="checkbox">
                                Regulations
                            </label>
                        </div>
                    </div>
                </div>
</div>

    </form>

{% endblock %}
